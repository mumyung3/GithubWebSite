# WSL-Windows 하이브리드 개발환경 이해 및 로컬 실행 가이드

## 세션 요약
- **날짜**: 2025년 9월 6일 (02:37 ~ 02:44)
- **작업자**: Claude Code (claude-sonnet-4-20250514)
- **주제**: 개발환경 구조 이해 및 로컬 실행 방법 정리

---

## 🔍 개발환경 구조 이해

### 현재 시스템 아키텍처
```
[Windows 파일시스템] ↔ [WSL Linux] ↔ [Windows 브라우저]
     D:\                /mnt/d/         localhost:5173
```

### 파일 시스템 매핑
- **실제 파일 위치**: `D:\GithubWebSite\` (Windows)
- **WSL 접근 경로**: `/mnt/d/GithubWebSite/` (Linux 마운트)
- **파일 공유**: WSL이 Windows 파일시스템에 투명하게 접근

---

## 🚀 로컬 실행 방법

### 1. React 개발 서버 (권장)
```bash
# WSL 터미널에서
cd /mnt/d/GithubWebSite/react-portfolio
export PATH="/snap/bin:$PATH"  # WSL Node.js 우선 사용
npm run dev
```
- **접속**: `http://localhost:5173/`
- **특징**: HMR (Hot Module Replacement) 지원
- **용도**: 실시간 개발 및 디버깅

### 2. 프로덕션 빌드 테스트
```bash
# WSL 터미널에서
cd /mnt/d/GithubWebSite/react-portfolio
export PATH="/snap/bin:$PATH"
npm run build     # dist/ 폴더 생성
npm run preview   # 빌드 결과물 미리보기
```
- **접속**: `http://localhost:4173/` (보통)
- **용도**: 배포 전 최종 확인

### 3. 전체 플로우 테스트 (리다이렉트 포함)
```bash
# 루트 디렉토리에서
cd /mnt/d/GithubWebSite
python -m http.server 8000
# 또는
npx serve .
```
- **접속**: `http://localhost:8000/`
- **용도**: GitHub Pages와 동일한 리다이렉트 플로우 테스트

---

## 💡 하이브리드 개발환경의 작동 원리

### 실행 흐름
```
1. 파일 저장: Windows 파일시스템 (D:\)
2. 개발 서버: WSL Linux 환경에서 실행
3. 파일 접근: WSL이 /mnt/d/로 윈도우 파일 읽음
4. 네트워크: WSL-Windows localhost 공유
5. 브라우저: Windows에서 접속
```

### WSL vs Windows 직접 실행 비교

#### WSL에서 실행 (현재 방식)
```bash
# WSL 환경
cd /mnt/d/GithubWebSite/react-portfolio
export PATH="/snap/bin:$PATH"
npm run dev
```
**장점:**
- ✅ Linux 도구의 강력함
- ✅ Claude Code와 동일한 환경
- ✅ 버전 호환성 보장

**단점:**
- ⚠️ 파일 시스템 크로스 오버로 약간의 성능 저하

#### Windows에서 직접 실행
```cmd
# Windows PowerShell/CMD
cd D:\GithubWebSite\react-portfolio
npm run dev
```
**장점:**
- ✅ 네이티브 파일 시스템 접근
- ✅ 더 빠른 성능

**단점:**
- ⚠️ Windows Node.js 버전 사용 (충돌 가능성)
- ⚠️ 버전 호환성 확인 필요 (v20.19+ or v22.12+)

---

## 📂 현재 GitHub Pages 배포 구조

### 사용자 접속 흐름
```
1. 사용자: username.github.io 접속
2. GitHub Pages: 루트 index.html 서빙 (리다이렉트 페이지)
3. 자동 리다이렉트: window.location.href = './dist/'
4. 최종 표시: React 앱 (dist/index.html)
```

### 파일 구조
```
GitHub Pages 루트/
├── index.html              ← 리다이렉트 페이지 (로딩 스피너)
├── dist/                   ← CI/CD가 자동 생성
│   ├── index.html          ← 실제 React 앱
│   ├── assets/
│   └── ...
└── .github/workflows/
    └── deploy.yml          ← 자동 배포 설정
```

---

## 🎯 개발 워크플로우 권장사항

### 일상 개발
1. **WSL 터미널 열기**
2. **개발 서버 시작**: `npm run dev` 
3. **Windows 브라우저**에서 `localhost:5173` 접속
4. **실시간 개발**: 코드 변경 → 자동 리로드

### 배포 전 확인
1. **빌드 테스트**: `npm run build && npm run preview`
2. **리다이렉트 테스트**: `python -m http.server 8000`
3. **커밋 & 푸시**: GitHub Actions 자동 배포

### 환경별 특징
| 환경 | 파일시스템 | 실행환경 | 브라우저 | 용도 |
|------|------------|----------|----------|------|
| 개발 | Windows | WSL | Windows | 실시간 개발 |
| 배포 | GitHub | Ubuntu (CI) | 사용자 | 프로덕션 |

---

## 🔧 트러블슈팅

### Node.js 버전 충돌 시
```bash
# WSL에서 올바른 Node.js 사용 확인
export PATH="/snap/bin:$PATH"
node --version  # v22.19.0 확인
npm --version   # v10.9.3 확인
```

### 포트 충돌 시
```bash
# 다른 포트로 실행
npm run dev -- --port 3000
```

### WSL 성능 이슈 시
- Windows에서 직접 실행 고려
- Node.js 버전 호환성만 확인 후 진행

---

**🌉 WSL과 Windows의 완벽한 조합으로 최고의 개발 경험을 구현했습니다!**